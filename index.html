<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="CrisisMgmt is a modern consulting, advisement, property management, and music production collective built on ethics as infrastructure." />
  <title>CrisisMgmt | Consulting & Music Production</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="hero" id="top">
    <div class="container">
      <div class="nav-bar">
        <a class="brand" href="#top" aria-label="CrisisMgmt home">
          <span class="brand-mark">CM</span>
          <span class="brand-name">CrisisMgmt</span>
        </a>
        <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="primaryNavigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="nav-toggle-line"></span>
          <span class="nav-toggle-line"></span>
          <span class="nav-toggle-line"></span>
        </button>
        <nav id="primaryNavigation" class="nav-links" aria-label="Primary Navigation">
          <a href="#about">About</a>
          <a href="#consulting">Consulting</a>
          <a href="#advisement">Advisement</a>
          <a href="#realestate">Real Estate</a>
          <a href="#music">Music</a>
          <a href="#contact" class="nav-cta">Contact</a>
        </nav>
      </div>
      <div class="hero-content">
        <p class="eyebrow">Ethics as Infrastructure</p>
        <h1>Strategy, Sound, and Stewardship for Purpose-Driven Leaders</h1>
        <p class="lead">
          CrisisMgmt unites consulting, advisement, real estate, and music production services to empower creators, founders,
          and executives with clarity, confidence, and premium execution.
        </p>
        <div class="hero-actions">
          <a class="button primary" href="#contact">Start a Conversation</a>
          <a class="button ghost" href="#about">Discover Our Story</a>
        </div>
        <div class="hero-highlights">
          <span>Established 2024</span>
          <span>Los Angeles, CA</span>
          <span>Purpose-Built Leadership</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section id="about" class="section-card">
      <div class="container">
        <h2>About CrisisMgmt</h2>
        <p>
          Established in 2024 in Los Angeles by <strong>Lars Halldin</strong>, CrisisMgmt was created from a foundation of strong
          ethics, collaboration, and purpose-driven growth. Lars—a networking powerhouse—has leveraged his diverse connections to
          form a consulting and production firm that unites business acumen, creativity, and integrity under one banner. At
          CrisisMgmt, we empower change by leading through example while staying rooted in community impact.
        </p>
      </div>
    </section>

    <section class="section-card subtle" aria-labelledby="services-heading">
      <div class="container">
        <div class="section-header">
          <p class="eyebrow">What We Deliver</p>
          <h2 id="services-heading">Core Service Areas</h2>
          <p class="section-intro">
            Tailored advisory, management, and creative production experiences designed to keep teams agile, values-led, and ready
            to perform at the highest level.
          </p>
        </div>
        <div class="service-grid">
          <article id="consulting" class="service-card">
            <h3>Business Consulting</h3>
            <p>
              Strengthen infrastructure, refine processes, and grow ethically. From operational restructuring to strategic
              branding, we deliver guidance that aligns profitability with purpose.
            </p>
          </article>
          <article id="advisement" class="service-card">
            <h3>Business Advisement</h3>
            <p>
              We partner with executives, entrepreneurs, and creatives for holistic advisement that blends leadership development,
              sustainable growth planning, and ethical governance.
            </p>
          </article>
          <article id="realestate" class="service-card">
            <h3>Property Management &amp; Real Estate Consulting</h3>
            <p>
              Full-service property oversight, tenant coordination, and investment consulting rooted in community value, functional
              design, and long-term sustainability.
            </p>
          </article>
          <article id="music" class="service-card">
            <h3>Music Production, Mixing &amp; Mastering</h3>
            <p>
              We collaborate with artists, brands, and creators to craft polished, emotionally resonant soundscapes—from recording
              and composition to final mastering.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section id="contact" class="section-card">
      <div class="container contact-layout">
        <div class="contact-copy">
          <p class="eyebrow">Partner With Us</p>
          <h2>Let’s Build Momentum Together</h2>
          <p>
            For consulting inquiries, partnerships, or creative collaborations, reach out directly via email or the form. We’re
            ready to explore bold ideas and architect durable solutions.
          </p>
          <p class="contact-email-line">
            <span class="contact-email" data-email="inquiries@crisismgmt.net">inquiries@crisismgmt.net</span>
            <button
              type="button"
              class="email-copy"
              data-email="inquiries@crisismgmt.net"
              aria-label="Copy inquiries@crisismgmt.net to your clipboard"
            >
              Copy email
            </button>
          </p>
        </div>
        <form
          class="contact-form"
          action="https://script.google.com/macros/s/AKfycby_bI6aOf2tF_OJejsuLqD4maGliA1-BK4qFf3zz4nmfF1_2cdSJkWny18AmEUi5VLM/exec"
          method="post"
          data-endpoint="https://script.google.com/macros/s/AKfycby_bI6aOf2tF_OJejsuLqD4maGliA1-BK4qFf3zz4nmfF1_2cdSJkWny18AmEUi5VLM/exec"
          novalidate
        >
          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" required />

          <label for="email">Email</label>
          <input type="email" id="email" name="email" required />

          <label for="message">Message</label>
          <textarea id="message" name="message" rows="6" required></textarea>

          <input type="hidden" name="source" value="" data-populate="page-url" />
          <button type="submit" class="button primary" aria-live="polite">Send Message</button>
          <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-content">
      <p>© 2025 CrisisMgmt. Established 2024 in Los Angeles. Ethics as Infrastructure. Halldin Studios LLC (est. 2021).</p>
      <a class="back-to-top" href="#top">Back to top</a>
    </div>
  </footer>

  <script>
    const navToggle = document.getElementById('navToggle');
    const primaryNavigation = document.getElementById('primaryNavigation');
    const contactForm = document.querySelector('.contact-form');
    const formStatus = document.getElementById('formStatus');
    const emailCopyButtons = document.querySelectorAll('.email-copy');

    if (navToggle && primaryNavigation) {
      navToggle.addEventListener('click', () => {
        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', String(!isExpanded));
        primaryNavigation.classList.toggle('open');
        document.body.classList.toggle('menu-open');
      });
    }

    if (contactForm) {
      contactForm.addEventListener('submit', async (event) => {
        event.preventDefault();

        const submitButton = contactForm.querySelector('button[type="submit"]');
        const nameField = contactForm.elements.namedItem('name');
        const emailField = contactForm.elements.namedItem('email');
        const messageField = contactForm.elements.namedItem('message');
        const sourceField = contactForm.querySelector('input[data-populate="page-url"]');
        if (sourceField) {
          sourceField.value = window.location.href;
        }

        const name = nameField ? nameField.value.trim() : '';
        const email = emailField ? emailField.value.trim() : '';
        const message = messageField ? messageField.value.trim() : '';

        if (!name || !email || !message) {
          if (formStatus) {
            formStatus.textContent = 'Please complete all required fields.';
            formStatus.classList.remove('success');
            formStatus.classList.add('error');
          }
          return;
        }

        if (formStatus) {
          formStatus.textContent = 'Sending your message...';
          formStatus.classList.remove('success', 'error');
        }

        if (submitButton) {
          submitButton.disabled = true;
        }

        const endpoint = contactForm.dataset.endpoint || contactForm.getAttribute('action');

        if (!endpoint) {
          if (formStatus) {
            formStatus.textContent = 'This form is not yet connected. Add a Google Apps Script endpoint to enable sending.';
            formStatus.classList.remove('success');
            formStatus.classList.add('error');
          }
          if (submitButton) {
            submitButton.disabled = false;
          }
          return;
        }

        try {
          const body = new URLSearchParams(new FormData(contactForm));

          const response = await fetch(endpoint, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
            },
            body,
            mode: 'cors',
          });

          const responseText = await response.text();
          let payload;

          try {
            payload = JSON.parse(responseText);
          } catch (parseError) {
            payload = null;
          }

          if (!response.ok || (payload && payload.success === false)) {
            const messageText =
              (payload && (payload.error || payload.message)) || 'There was an issue sending your message.';
            throw new Error(messageText);
          }

          if (formStatus) {
            formStatus.textContent =
              (payload && (payload.message || payload.successMessage)) ||
              'Thanks! Your message has been sent successfully.';
            formStatus.classList.remove('error');
            formStatus.classList.add('success');
          }

          contactForm.reset();
        } catch (error) {
          if (formStatus) {
            formStatus.textContent = error.message || 'There was an issue sending your message.';
            formStatus.classList.remove('success');
            formStatus.classList.add('error');
          }
        } finally {
          if (submitButton) {
            submitButton.disabled = false;
          }
        }
      });
    }

    emailCopyButtons.forEach((button) => {
      button.addEventListener('click', async () => {
        const email = button.getAttribute('data-email');
        if (!email) {
          return;
        }

        try {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            await navigator.clipboard.writeText(email);
          } else {
            const textarea = document.createElement('textarea');
            textarea.value = email;
            textarea.setAttribute('readonly', '');
            textarea.style.position = 'absolute';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
          }

          const originalLabel = button.textContent;
          button.textContent = 'Copied!';
          button.classList.add('copied');
          window.setTimeout(() => {
            button.textContent = originalLabel;
            button.classList.remove('copied');
          }, 2000);
        } catch (error) {
          const originalLabel = button.textContent;
          button.textContent = 'Copy manually';
          button.classList.add('error');
          window.setTimeout(() => {
            button.textContent = originalLabel;
            button.classList.remove('error');
          }, 2500);
        }
      });
    });
  </script>
</body>
</html>
